pipeline{
	agent{ 
		dockerfile{
    		args "-p 8080:8080"
    		additionalBuildArgs '-t webapp-docker'
		}

	}
	stages{
		stage('build mvn'){
			steps {
			
			
				
			   	sh 'mvn clean verify' 
			   	sh 'java -jar target/app.jar'
			   	sh 'sleep 3600'
			   
			}

    
		}
	   
	}

}
